{"version":3,"file":"static/js/574.0f35dbd7.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/UserSettings/UserSettingsForm.module.css?22da","components/UserSettings/UserSettingsForm.jsx","pages/UserSettings.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"UserSettingsForm_form__s4XFq\",\"btn_close\":\"UserSettingsForm_btn_close__jR6MC\",\"label\":\"UserSettingsForm_label__qcIff\",\"label_password\":\"UserSettingsForm_label_password__jg6q0\",\"show_password\":\"UserSettingsForm_show_password__s97wp\",\"btn_save\":\"UserSettingsForm_btn_save__M4qWY\",\"btn_cancel\":\"UserSettingsForm_btn_cancel__dT0cS\"};","import React, { useState, useEffect } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updatedUser } from '../../redux/auth/operations';\nimport { selectUser } from '../../redux/auth/selectors';\nimport css from './UserSettingsForm.module.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { IoMdEye } from 'react-icons/io';\nimport { IoMdEyeOff } from 'react-icons/io';\nimport toast from 'react-hot-toast';\nimport { useNavigate } from 'react-router-dom';\nimport Col from 'react-bootstrap/Col';\nimport { IoMdClose } from 'react-icons/io';\n\nconst validationSchema = Yup.object().shape({\n  name: Yup.string().min(3).max(32).required(\"Введіть ваше ім'я\"),\n  email: Yup.string()\n    .email('Некоректний формат email')\n    .required('Введіть ваш email'),\n  beautyMaster: Yup.string().required('Оберіть категорію в якій ви працюєте'),\n  workHourStart: Yup.number()\n    .min(0, 'Час початку робочого дня має бути не менше 0')\n    .max(23, 'Час початку робочого дня має бути не більше 23')\n    .required('Введіть час початку робочого дня, год.'),\n  workHourEnd: Yup.number()\n    .min(0, 'Час початку робочого дня має бути не менше 0')\n    .max(23, 'Час початку робочого дня має бути не більше 23')\n    .required('Введіть час закінчення робочого дня, год'),\n  weekendSchedule: Yup.array().of(Yup.string()),\n  password: Yup.string()\n    .min(8, 'Введіть коректний пароль, не меньше 8 символів')\n    .max(32),\n  newPassword: Yup.string()\n    .min(8, 'Введіть коректний пароль, не меньше 8 символів')\n    .max(32),\n});\n\nconst UserSettingsForm = () => {\n  const [showPassword, setShowPassword] = useState(false);\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const [initialValues, setInitialValues] = useState({\n    name: user.name || '',\n    email: user.email || '',\n    beautyMaster: user.beautyMaster || '',\n    workHourStart: user.workHourStart || '',\n    workHourEnd: user.workHourEnd || '',\n    weekendSchedule: user.weekendSchedule || [],\n    newPassword: '',\n    password: '',\n  });\n\n  useEffect(() => {\n    if (user) {\n      setInitialValues({\n        name: user.name || '',\n        email: user.email || '',\n        beautyMaster: user.beautyMaster || '',\n        workHourStart: user.workHourStart || '',\n        workHourEnd: user.workHourEnd || '',\n        weekendSchedule: user.weekendSchedule || [],\n        newPassword: '',\n        password: '',\n      });\n    }\n  }, [user]);\n\n  const handleSubmit = async (values, { resetForm }) => {\n    const { newPassword, password, ...otherValues } = values;\n\n    const updateUser = {\n      id: user._id,\n      ...otherValues,\n      ...(values.newPassword && { newPassword: values.newPassword }),\n      ...(values.password && { password: values.password }),\n    };\n\n    if ((newPassword && password) || (!newPassword && !password)) {\n      console.log(updateUser);\n      try {\n        await dispatch(updatedUser(updateUser))\n          .then(response => {\n            if (response.meta.requestStatus === 'fulfilled') {\n              toast.success(`Налаштування профілю успішно збережені!`, {\n                duration: 2000,\n                position: 'top-center',\n              });\n              resetForm({ values: initialValues });\n            } else if (response.meta.requestStatus === 'rejected') {\n              toast.error(\n                `Сталася помилка, налаштування профілю не оновлено! Оновіть сторінку та спробуйте знову`,\n                {\n                  duration: 4000,\n                  position: 'top-center',\n                }\n              );\n            }\n          })\n          .catch(error => {});\n        resetForm();\n        navigate('/home');\n      } catch (error) {}\n    } else {\n      toast.error(\n        `Для зміни паролю ведіть новий пароль і підтвердіть ваш поточний пароль`,\n        {\n          duration: 4000,\n          position: 'top-center',\n        }\n      );\n    }\n  };\n\n  const handleTogglePassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleCancel = () => {\n    navigate('/home');\n  };\n\n  return (\n    <Col className=\"d-flex justify-content-center justify-content-lg-end\">\n      <Col sm={8} md={6} xl={5}>\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleSubmit}\n        >\n          <Form className={`p-4  ${css.form}`} autoComplete=\"off\">\n            <IoMdClose className={css.btn_close} onClick={handleCancel} />\n            <h5 className=\"fw-bolder\">Налаштування профілю</h5>\n            <label className={css.label} htmlFor=\"name\">\n              Змінити Ваше ім'я\n              <Field type=\"text\" name=\"name\" id=\"name\" />\n              <ErrorMessage\n                name=\"name\"\n                component=\"div\"\n                className=\"text-danger\"\n              />\n            </label>\n            <label className={css.label} htmlFor=\"email\">\n              Змінити електронну адресу\n              <Field type=\"email\" name=\"email\" id=\"email\" />\n              <ErrorMessage\n                name=\"email\"\n                component=\"div\"\n                className=\"text-danger\"\n              />\n            </label>\n            <label className={css.label} htmlFor=\"beautyMaster\">\n              Змінити категорію\n              <Field as=\"select\" name=\"beautyMaster\" id=\"beautyMaster\">\n                <option value=\"Hair master\">Майстер перукар</option>\n                <option value=\"Nails master\">Майстер манікюру</option>\n                <option value=\"Waxing specialist\">Майстер з епіляції</option>\n              </Field>\n              <ErrorMessage\n                name=\"beautyMaster\"\n                component=\"div\"\n                className=\"text-danger\"\n              />\n            </label>\n            <div>\n              <p className=\"text-center fw-bolder mb-1 mt-3\">\n                Налаштування робочого графіку\n              </p>\n              <label className=\"mb-2\" htmlFor=\"workHourStart\">\n                Початок робочого дня{' '}\n                <Field\n                  type=\"number\"\n                  name=\"workHourStart\"\n                  id=\"workHourStart\"\n                  style={{ width: '50px' }}\n                />\n                <ErrorMessage\n                  name=\"workHourStart\"\n                  component=\"div\"\n                  className=\"text-danger\"\n                />\n              </label>\n              <label htmlFor=\"workHourEnd\" className=\"mb-2\">\n                Кінець робочого дня{' '}\n                <Field\n                  type=\"number\"\n                  name=\"workHourEnd\"\n                  id=\"workHourEnd\"\n                  style={{ width: '50px' }}\n                />\n                <ErrorMessage\n                  name=\"workHourEnd\"\n                  component=\"div\"\n                  className=\"text-danger\"\n                />\n              </label>\n              <div>\n                <label htmlFor=\"weekendSchedule\" className=\"mt-1\">\n                  Встановити вихідні дні:\n                </label>\n                <br />\n                <Field\n                  type=\"checkbox\"\n                  id=\"monday\"\n                  name=\"weekendSchedule\"\n                  value=\"1\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"monday\" className=\"me-3\">\n                  Пн\n                </label>\n                <Field\n                  type=\"checkbox\"\n                  id=\"tuesday\"\n                  name=\"weekendSchedule\"\n                  value=\"2\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"tuesday\" className=\"me-3\">\n                  Вт\n                </label>\n                <Field\n                  type=\"checkbox\"\n                  id=\"wednesday\"\n                  name=\"weekendSchedule\"\n                  value=\"3\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"wednesday\" className=\"me-3\">\n                  Ср\n                </label>\n                <Field\n                  type=\"checkbox\"\n                  id=\"thursday\"\n                  name=\"weekendSchedule\"\n                  value=\"4\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"thursday\" className=\"me-3\">\n                  Чт\n                </label>\n                <Field\n                  type=\"checkbox\"\n                  id=\"friday\"\n                  name=\"weekendSchedule\"\n                  value=\"5\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"friday\" className=\"me-1\">\n                  Пт\n                </label>\n                <br />\n                <Field\n                  type=\"checkbox\"\n                  id=\"saturday\"\n                  name=\"weekendSchedule\"\n                  value=\"6\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"saturday\" className=\"me-3  mt-2\">\n                  Сб\n                </label>\n\n                <Field\n                  type=\"checkbox\"\n                  id=\"sunday\"\n                  name=\"weekendSchedule\"\n                  value=\"0\"\n                  className=\"me-1\"\n                />\n                <label htmlFor=\"sunday\" className=\"me-3  mt-2\">\n                  Нд\n                </label>\n                <ErrorMessage\n                  name=\"weekendSchedule\"\n                  component=\"div\"\n                  className=\"text-danger\"\n                />\n              </div>\n            </div>\n            <p className=\"text-center fw-bolder mb-1 mt-3\">Для зміни паролю:</p>\n            <label className={css.label_password} htmlFor=\"password\">\n              Введіть діючий пароль\n              <Field\n                type={showPassword ? 'text' : 'password'}\n                name=\"password\"\n                id=\"password\"\n                autoComplete=\"new-password\"\n              />\n              <span\n                onClick={() => handleTogglePassword()}\n                type=\"button\"\n                className={css.show_password}\n              >\n                {showPassword ? <IoMdEye /> : <IoMdEyeOff />}\n              </span>\n              <ErrorMessage\n                name=\"password\"\n                component=\"div\"\n                className=\"text-danger\"\n              />\n            </label>\n            <label className={css.label_password} htmlFor=\"newPassword\">\n              Введіть новий пароль\n              <Field\n                type={showPassword ? 'text' : 'password'}\n                name=\"newPassword\"\n                id=\"newPassword\"\n              />\n              <span\n                onClick={() => handleTogglePassword()}\n                type=\"button\"\n                className={css.show_password}\n              >\n                {showPassword ? <IoMdEye /> : <IoMdEyeOff />}\n              </span>\n              <ErrorMessage\n                name=\"newPassword\"\n                component=\"div\"\n                className=\"text-danger\"\n              />\n            </label>\n            <div className=\" d-flex justify-content-between text-center mt-4\">\n              <button className={css.btn_save} type=\"submit\">\n                Зберегти зміни\n              </button>\n              <button className={css.btn_cancel} onClick={handleCancel}>\n                Скасувати\n              </button>\n            </div>\n          </Form>\n        </Formik>\n      </Col>\n    </Col>\n  );\n};\n\nexport default UserSettingsForm;\n","import UserSettingsForm from '../components/UserSettings/UserSettingsForm';\n\nconst UserSettings = () => {\n  return <UserSettingsForm />;\n};\n\nexport default UserSettings;\n"],"names":["validationSchema","Yup","shape","name","min","max","required","email","beautyMaster","workHourStart","workHourEnd","weekendSchedule","of","password","newPassword","useState","showPassword","setShowPassword","user","useSelector","selectUser","dispatch","useDispatch","navigate","useNavigate","initialValues","setInitialValues","useEffect","handleSubmit","values","resetForm","otherValues","updateUser","id","_id","console","log","updatedUser","then","response","meta","requestStatus","toast","success","duration","position","error","catch","handleTogglePassword","handleCancel","Col","className","sm","md","xl","onSubmit","css","autoComplete","onClick","htmlFor","type","component","as","value","style","width"],"sourceRoot":""}